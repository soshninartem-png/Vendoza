<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vendoza â€” Sign In / Sign Up</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --green:       #3DBF6C;
      --green-dark:  #2ea858;
      --green-light: #e8f9f0;
      --gold:        #F5C842;
      --bg:          #F5F6FA;
      --white:       #FFFFFF;
      --text-main:   #222222;
      --text-sub:    #6B7280;
      --border:      #E5E7EB;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text-main); }
    .page { min-height: 100vh; display: flex; }

    .left-panel {
      width: 46%;
      background: linear-gradient(145deg, #1a3a26 0%, #2a5c3f 50%, #1e4a30 100%);
      display: flex; flex-direction: column; justify-content: space-between;
      padding: 48px 56px; position: relative; overflow: hidden;
    }
    .left-panel::before {
      content: ''; position: absolute; width: 500px; height: 500px;
      border-radius: 50%; background: rgba(61,191,108,.15); top: -150px; right: -150px;
    }
    .left-panel::after {
      content: ''; position: absolute; width: 300px; height: 300px;
      border-radius: 50%; background: rgba(245,200,66,.08); bottom: -80px; left: -80px;
    }
    .logo { font-size: 26px; font-weight: 800; color: #fff; display: flex; align-items: center; gap: 10px; position: relative; z-index: 1; }
    .logo-dot { width: 10px; height: 10px; border-radius: 50%; background: var(--gold); box-shadow: 0 0 12px var(--gold); }
    .left-main { flex: 1; display: flex; flex-direction: column; justify-content: center; padding: 48px 0; position: relative; z-index: 1; }
    .left-tag {
      display: inline-flex; align-items: center; gap: 8px;
      background: rgba(61,191,108,.2); border: 1px solid rgba(61,191,108,.4);
      color: #6ee7a0; font-size: 11px; font-weight: 600; letter-spacing: 1.2px;
      text-transform: uppercase; padding: 6px 14px; border-radius: 50px;
      width: fit-content; margin-bottom: 28px;
    }
    .left-h { font-size: clamp(32px, 3vw, 50px); font-weight: 800; line-height: 1.1; letter-spacing: -1px; color: #fff; }
    .left-h em { font-style: normal; color: #4ade80; }
    .left-sub { color: rgba(255,255,255,.6); font-size: 16px; line-height: 1.65; margin-top: 18px; max-width: 340px; }
    .features { margin-top: 44px; display: flex; flex-direction: column; gap: 12px; }
    .feat {
      display: flex; align-items: center; gap: 14px; padding: 14px 18px;
      background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.1);
      border-radius: 14px; transition: background .25s;
    }
    .feat:hover { background: rgba(255,255,255,.1); }
    .feat-icon { width: 40px; height: 40px; border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 18px; }
    .feat-icon.g { background: rgba(61,191,108,.3); }
    .feat-icon.o { background: rgba(245,200,66,.2); }
    .feat-icon.b { background: rgba(59,130,246,.2); }
    .feat-text strong { display: block; font-size: 13px; font-weight: 600; color: #fff; }
    .feat-text span { font-size: 12px; color: rgba(255,255,255,.5); }
    .left-footer { font-size: 12px; color: rgba(255,255,255,.3); position: relative; z-index: 1; }

    .right-panel { flex: 1; display: flex; align-items: center; justify-content: center; padding: 40px 56px; overflow-y: auto; }
    .auth-box { width: 100%; max-width: 420px; }

    .tabs {
      display: flex; background: var(--bg); border: 1.5px solid var(--border);
      border-radius: 12px; padding: 4px; margin-bottom: 36px;
    }
    .tab-btn {
      flex: 1; padding: 11px; background: none; border: none; cursor: pointer;
      font-size: 14px; font-weight: 600; font-family: 'Inter', sans-serif;
      color: var(--text-sub); border-radius: 9px; transition: all .25s;
    }
    .tab-btn.active { background: var(--green); color: #fff; box-shadow: 0 4px 14px rgba(61,191,108,.35); }

    .auth-form { display: none; flex-direction: column; }
    .auth-form.active { display: flex; animation: fadeIn .3s ease; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }

    .form-title { font-size: 26px; font-weight: 800; margin-bottom: 6px; }
    .form-sub { font-size: 14px; color: var(--text-sub); margin-bottom: 28px; }

    .socials { display: flex; gap: 10px; margin-bottom: 22px; }
    .social-btn {
      flex: 1; display: flex; align-items: center; justify-content: center; gap: 8px;
      padding: 11px; border-radius: 10px; background: var(--white);
      border: 1.5px solid var(--border); color: var(--text-sub);
      font-size: 13px; font-weight: 600; cursor: pointer;
      transition: all .2s; text-decoration: none; font-family: 'Inter', sans-serif;
    }
    .social-btn:hover { border-color: var(--green); color: var(--green); background: var(--green-light); }

    .divider { display: flex; align-items: center; gap: 12px; margin-bottom: 22px; }
    .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }
    .divider span { font-size: 12px; color: var(--text-sub); white-space: nowrap; }

    .input-group { margin-bottom: 14px; }
    .input-label { display: block; font-size: 13px; font-weight: 600; color: var(--text-main); margin-bottom: 7px; }
    .input-wrap { position: relative; display: flex; align-items: center; }
    .input-wrap > i:first-child { position: absolute; left: 14px; color: var(--text-sub); font-size: 14px; pointer-events: none; }
    .input-field {
      width: 100%; padding: 12px 14px 12px 40px; border: 1.5px solid var(--border);
      border-radius: 10px; font-size: 14px; font-family: 'Inter', sans-serif;
      color: var(--text-main); background: var(--white); transition: all .2s; outline: none;
    }
    .input-field:focus { border-color: var(--green); box-shadow: 0 0 0 3px rgba(61,191,108,.15); }
    .eye-btn {
      position: absolute; right: 12px; background: none; border: none;
      cursor: pointer; color: var(--text-sub); padding: 4px; font-size: 14px; transition: color .2s;
    }
    .eye-btn:hover { color: var(--text-main); }
    .field-error { margin-top: 6px; font-size: 12px; color: #ef4444; display: flex; align-items: center; gap: 5px; }

    .submit-btn {
      width: 100%; padding: 14px; background: var(--green); color: #fff; border: none;
      border-radius: 10px; font-size: 15px; font-weight: 700; font-family: 'Inter', sans-serif;
      cursor: pointer; transition: all .25s; display: flex; align-items: center;
      justify-content: center; gap: 8px; margin-top: 6px;
    }
    .submit-btn:hover { background: var(--green-dark); transform: translateY(-2px); box-shadow: 0 8px 22px rgba(61,191,108,.35); }

    .form-bottom { display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 20px; font-size: 13px; color: var(--text-sub); }
    .form-bottom button { background: none; border: none; color: var(--green); font-size: 13px; font-weight: 600; cursor: pointer; font-family: 'Inter', sans-serif; }
    .form-bottom button:hover { text-decoration: underline; }

    .flash-wrap { position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px; }
    .flash {
      display: flex; align-items: center; gap: 10px; padding: 14px 18px;
      border-radius: 12px; font-size: 14px; font-weight: 500;
      box-shadow: 0 8px 24px rgba(0,0,0,.1); animation: slideIn .35s ease; max-width: 360px;
    }
    .flash.success { background: var(--green-light); color: #166534; border: 1px solid rgba(61,191,108,.3); }
    .flash.error { background: #fef2f2; color: #991b1b; border: 1px solid #fecaca; }
    @keyframes slideIn { from{opacity:0;transform:translateX(40px)} to{opacity:1;transform:translateX(0)} }

    @media (max-width: 860px) {
      .left-panel { display: none; }
      .right-panel { padding: 32px 24px; }
    }
  </style>
</head>
<body>

{% load socialaccount %}

{% if messages %}
<div class="flash-wrap">
  {% for message in messages %}
  <div class="flash {{ message.tags }}">
    <i class="fas {% if message.tags == 'error' %}fa-exclamation-circle{% else %}fa-check-circle{% endif %}"></i>
    {{ message }}
  </div>
  {% endfor %}
</div>
{% endif %}

<div class="page">

  <!-- LEFT PANEL -->
  <div class="left-panel">
    <div class="logo">
      <div class="logo-dot"></div>
      Vendoza
    </div>
    <div class="left-main">
      <div class="left-tag"><i class="fas fa-circle" style="font-size:6px;"></i> Marketplace Platform</div>
      <h1 class="left-h">Shop <em>smarter</em>,<br>sell faster</h1>
      <p class="left-sub">Join thousands of buyers and sellers on Vendoza â€” the modern marketplace built for everyone.</p>
      <div class="features">
        <div class="feat">
          <div class="feat-icon g"><i class="fas fa-shield-halved" style="color:#4ade80;"></i></div>
          <div class="feat-text"><strong>Secure Payments</strong><span>All transactions are protected</span></div>
        </div>
        <div class="feat">
          <div class="feat-icon o"><i class="fas fa-bolt" style="color:#fbbf24;"></i></div>
          <div class="feat-text"><strong>Fast Delivery</strong><span>Same-day and express options</span></div>
        </div>
        <div class="feat">
          <div class="feat-icon b"><i class="fas fa-store" style="color:#60a5fa;"></i></div>
          <div class="feat-text"><strong>Sell Your Products</strong><span>Start selling in minutes</span></div>
        </div>
      </div>
    </div>
    <div class="left-footer">Â© 2026 Vendoza. All rights reserved.</div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right-panel">
    <div class="auth-box">

      <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('signin')">Sign In</button>
        <button class="tab-btn" onclick="switchTab('signup')">Sign Up</button>
      </div>

      <!-- SIGN IN -->
      <div class="auth-form active" id="form-signin">
        <h2 class="form-title">Welcome back ðŸ‘‹</h2>
        <p class="form-sub">Sign in to your Vendoza account</p>

      <div class="socials">
  <a href="{% provider_login_url 'google' %}" class="social-btn">
    <i class="fab fa-google"></i> Google
  </a>
  <a href="{% provider_login_url 'facebook' %}" class="social-btn">
    <i class="fab fa-facebook-f"></i> Facebook
  </a>
</div>
<div class="divider"><span>or continue with email</span></div>
        <form method="POST" action="{% url 'shop:login' %}">
          {% csrf_token %}
          {% if signin_form %}
            {% for field in signin_form %}
              <div class="input-group">
                <label class="input-label">{{ field.label }}</label>
                <div class="input-wrap">
                  {% if field.field.widget.input_type == 'password' %}
                    <i class="fas fa-lock"></i>
                    <input class="input-field" type="password" name="{{ field.name }}" placeholder="Enter your password" id="pw-signin">
                    <button type="button" class="eye-btn" onclick="togglePw('pw-signin', this)"><i class="fas fa-eye"></i></button>
                  {% else %}
                    <i class="fas fa-user"></i>
                    <input class="input-field" type="{{ field.field.widget.input_type }}" name="{{ field.name }}" placeholder="Enter your username" value="{{ field.value|default_if_none:'' }}">
                  {% endif %}
                </div>
                {% for error in field.errors %}
                  <div class="field-error"><i class="fas fa-exclamation-circle"></i> {{ error }}</div>
                {% endfor %}
              </div>
            {% endfor %}
          {% else %}
            <div class="input-group">
              <label class="input-label">Username</label>
              <div class="input-wrap">
                <i class="fas fa-user"></i>
                <input class="input-field" type="text" name="username" placeholder="Enter your username">
              </div>
            </div>
            <div class="input-group">
              <label class="input-label">Password</label>
              <div class="input-wrap">
                <i class="fas fa-lock"></i>
                <input class="input-field" type="password" name="password" placeholder="Enter your password" id="pw-signin">
                <button type="button" class="eye-btn" onclick="togglePw('pw-signin', this)"><i class="fas fa-eye"></i></button>
              </div>
            </div>
          {% endif %}
          <button type="submit" class="submit-btn">
            <i class="fas fa-arrow-right-to-bracket"></i> Sign In
          </button>
          <div class="form-bottom">
            <span>Don't have an account?</span>
            <button type="button" onclick="switchTab('signup')">Create one â†’</button>
          </div>
        </form>
      </div>

      <!-- SIGN UP -->
      <div class="auth-form" id="form-signup">
        <h2 class="form-title">Join Vendoza âœ¨</h2>
        <p class="form-sub">Create your free account in seconds</p>

        <div class="socials">
          <a href="{% provider_login_url 'google' %}" class="social-btn">
            <i class="fab fa-google"></i> Google
          </a>
          <a href="#" class="social-btn">
            <i class="fab fa-facebook-f"></i> Facebook
          </a>
        </div>
        <div class="divider"><span>or register with email</span></div>

        <form method="POST" action="{% url 'shop:signup' %}">
          {% csrf_token %}
          {% if signup_form %}
            {% for field in signup_form %}
              <div class="input-group">
                <label class="input-label">{{ field.label }}</label>
                <div class="input-wrap">
                  {% if field.field.widget.input_type == 'password' %}
                    <i class="fas fa-lock"></i>
                    <input class="input-field" type="password" name="{{ field.name }}" placeholder="Enter {{ field.label|lower }}" id="pw-{{ field.name }}">
                    <button type="button" class="eye-btn" onclick="togglePw('pw-{{ field.name }}', this)"><i class="fas fa-eye"></i></button>
                  {% elif field.name == 'email' %}
                    <i class="fas fa-envelope"></i>
                    <input class="input-field" type="email" name="{{ field.name }}" placeholder="your@email.com" value="{{ field.value|default_if_none:'' }}">
                  {% else %}
                    <i class="fas fa-user"></i>
                    <input class="input-field" type="{{ field.field.widget.input_type }}" name="{{ field.name }}" placeholder="Choose a username" value="{{ field.value|default_if_none:'' }}">
                  {% endif %}
                </div>
                {% for error in field.errors %}
                  <div class="field-error"><i class="fas fa-exclamation-circle"></i> {{ error }}</div>
                {% endfor %}
              </div>
            {% endfor %}
          {% else %}
            <div class="input-group">
              <label class="input-label">Username</label>
              <div class="input-wrap">
                <i class="fas fa-user"></i>
                <input class="input-field" type="text" name="username" placeholder="Choose a username">
              </div>
            </div>
            <div class="input-group">
              <label class="input-label">Password</label>
              <div class="input-wrap">
                <i class="fas fa-lock"></i>
                <input class="input-field" type="password" name="password1" placeholder="Create a password" id="pw-p1">
                <button type="button" class="eye-btn" onclick="togglePw('pw-p1', this)"><i class="fas fa-eye"></i></button>
              </div>
            </div>
            <div class="input-group">
              <label class="input-label">Confirm Password</label>
              <div class="input-wrap">
                <i class="fas fa-lock"></i>
                <input class="input-field" type="password" name="password2" placeholder="Repeat password" id="pw-p2">
                <button type="button" class="eye-btn" onclick="togglePw('pw-p2', this)"><i class="fas fa-eye"></i></button>
              </div>
            </div>
          {% endif %}
          <button type="submit" class="submit-btn">
            <i class="fas fa-user-plus"></i> Create Account
          </button>
          <div class="form-bottom">
            <span>Already have an account?</span>
            <button type="button" onclick="switchTab('signin')">Sign in â†’</button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>

<script>
  function switchTab(tab) {
    document.querySelectorAll('.tab-btn').forEach((b, i) => {
      b.classList.toggle('active', (tab === 'signin' && i === 0) || (tab === 'signup' && i === 1));
    });
    document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
    document.getElementById('form-' + tab).classList.add('active');
  }

  function togglePw(id, btn) {
    const input = document.getElementById(id);
    const icon  = btn.querySelector('i');
    if (input.type === 'password') {
      input.type = 'text';
      icon.className = 'fas fa-eye-slash';
    } else {
      input.type = 'password';
      icon.className = 'fas fa-eye';
    }
  }

  setTimeout(() => {
    document.querySelectorAll('.flash').forEach(el => {
      el.style.transition = 'opacity .4s, transform .4s';
      el.style.opacity = '0';
      el.style.transform = 'translateX(60px)';
      setTimeout(() => el.remove(), 400);
    });
  }, 4000);

  {% if signup_form and signup_form.errors %}
    switchTab('signup');
  {% endif %}
</script>

</body>
</html>